cmake_minimum_required (
        VERSION
                3.23
)

project (
        ocppi
        LANGUAGES
                CXX
        VERSION
                0.1.0
)

option (
        OCPPI_BUILD_EXAMPLES "Build examples of ocppi or not"
        ${PROJECT_IS_TOP_LEVEL}
)

option (
        OCPPI_ENABLE_TESTING "Enable test of ocppi or not"
        ${PROJECT_IS_TOP_LEVEL}
)

add_library (ocppi INTERFACE)

target_sources (
        ocppi
        PUBLIC
                FILE_SET HEADERS BASE_DIRS include FILES
                # generated by `find include -type f`
                include/ocppi/runtime/config/helper.hpp
                include/ocppi/runtime/config/Anet.hpp
                include/ocppi/runtime/config/BlockIO.hpp
                include/ocppi/runtime/config/BlockIODeviceThrottle.hpp
                include/ocppi/runtime/config/BlockIODeviceWeight.hpp
                include/ocppi/runtime/config/BoottimeClass.hpp
                include/ocppi/runtime/config/Capabilities.hpp
                include/ocppi/runtime/config/CappedCPU.hpp
                include/ocppi/runtime/config/CappedMemory.hpp
                include/ocppi/runtime/config/Class.hpp
                include/ocppi/runtime/config/Config.hpp
                include/ocppi/runtime/config/ConsoleSize.hpp
                include/ocppi/runtime/config/DeviceCgroup.hpp
                include/ocppi/runtime/config/FluffyCPU.hpp
                include/ocppi/runtime/config/FluffyMemory.hpp
                include/ocppi/runtime/config/Hook.hpp
                include/ocppi/runtime/config/Hooks.hpp
                include/ocppi/runtime/config/HugepageLimit.hpp
                include/ocppi/runtime/config/Hyperv.hpp
                include/ocppi/runtime/config/Hypervisor.hpp
                include/ocppi/runtime/config/IdMapping.hpp
                include/ocppi/runtime/config/IdType.hpp
                include/ocppi/runtime/config/Image.hpp
                include/ocppi/runtime/config/IntelRdt.hpp
                include/ocppi/runtime/config/IoPriority.hpp
                include/ocppi/runtime/config/Kernel.hpp
                include/ocppi/runtime/config/LinuxDevice.hpp
                include/ocppi/runtime/config/Mount.hpp
                include/ocppi/runtime/config/NamespaceReference.hpp
                include/ocppi/runtime/config/NamespaceType.hpp
                include/ocppi/runtime/config/NetworkInterfacePriority.hpp
                include/ocppi/runtime/config/Personality.hpp
                include/ocppi/runtime/config/PersonalityDomain.hpp
                include/ocppi/runtime/config/Pids.hpp
                include/ocppi/runtime/config/Process.hpp
                include/ocppi/runtime/config/PurpleCPU.hpp
                include/ocppi/runtime/config/PurpleMemory.hpp
                include/ocppi/runtime/config/Rdma.hpp
                include/ocppi/runtime/config/ResourcesNetwork.hpp
                include/ocppi/runtime/config/Rlimit.hpp
                include/ocppi/runtime/config/Root.hpp
                include/ocppi/runtime/config/RootImageFormat.hpp
                include/ocppi/runtime/config/RootfsPropagation.hpp
                include/ocppi/runtime/config/Scheduler.hpp
                include/ocppi/runtime/config/SchedulerFlag.hpp
                include/ocppi/runtime/config/SchedulerPolicy.hpp
                include/ocppi/runtime/config/Seccomp.hpp
                include/ocppi/runtime/config/SeccompAction.hpp
                include/ocppi/runtime/config/SeccompArch.hpp
                include/ocppi/runtime/config/SeccompFlag.hpp
                include/ocppi/runtime/config/SeccompOperators.hpp
                include/ocppi/runtime/config/Solaris.hpp
                include/ocppi/runtime/config/Storage.hpp
                include/ocppi/runtime/config/Syscall.hpp
                include/ocppi/runtime/config/SyscallArg.hpp
                include/ocppi/runtime/config/TimeOffsets.hpp
                include/ocppi/runtime/config/User.hpp
                include/ocppi/runtime/config/Vm.hpp
                include/ocppi/runtime/config/Windows.hpp
                include/ocppi/runtime/config/WindowsDevice.hpp
                include/ocppi/runtime/config/WindowsNetwork.hpp
                include/ocppi/runtime/config/WindowsResources.hpp
                include/ocppi/runtime/config/Zos.hpp
                include/ocppi/runtime/config/ZosDevice.hpp
                include/ocppi/runtime/config/Generators.hpp
                include/ocppi/runtime/config/Linux.hpp
                include/ocppi/runtime/config/LinuxResources.hpp
                include/ocppi/runtime/features/helper.hpp
                include/ocppi/runtime/features/Apparmor.hpp
                include/ocppi/runtime/features/Cgroup.hpp
                include/ocppi/runtime/features/Features.hpp
                include/ocppi/runtime/features/Generators.hpp
                include/ocppi/runtime/features/IntelRdt.hpp
                include/ocppi/runtime/features/Linux.hpp
                include/ocppi/runtime/features/NamespaceType.hpp
                include/ocppi/runtime/features/Seccomp.hpp
                include/ocppi/runtime/features/SeccompAction.hpp
                include/ocppi/runtime/features/SeccompArch.hpp
                include/ocppi/runtime/features/SeccompFlag.hpp
                include/ocppi/runtime/features/SeccompOperators.hpp
                include/ocppi/runtime/features/Selinux.hpp
                include/ocppi/runtime/state/helper.hpp
                include/ocppi/runtime/state/Generators.hpp
                include/ocppi/runtime/state/State.hpp
                include/ocppi/runtime/state/Status.hpp
)

target_compile_features(ocppi INTERFACE cxx_std_17)

if(OCPPI_BUILD_EXAMPLES)
        add_subdirectory (./examples)
endif()
